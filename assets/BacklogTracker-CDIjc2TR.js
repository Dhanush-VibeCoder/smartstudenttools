import{r as m,j as e}from"./index-BpuqwmbV.js";const S=({darkMode:s})=>{const[g,c]=m.useState(Array.from({length:8},(t,a)=>({id:a+1,name:`Sem ${a+1}`,subjects:[{id:1,name:"",status:""}],nextSubjectId:2}))),[o,p]=m.useState(1),[b,i]=m.useState(""),l=g.find(t=>t.id===o),x=(()=>{if(!l)return{total:0,passed:0,backlogs:0};const t=l.subjects.length,a=l.subjects.filter(n=>n.status==="passed").length,r=t-a;return{total:t,passed:a,backlogs:r}})(),h=(t,a,r)=>{c(n=>n.map(d=>d.id===o?{...d,subjects:d.subjects.map(u=>u.id===t?{...u,[a]:r}:u)}:d)),i("")},y=()=>{c(t=>t.map(a=>a.id===o?{...a,subjects:[...a.subjects,{id:a.nextSubjectId,name:"",status:""}],nextSubjectId:a.nextSubjectId+1}:a)),i("")},f=t=>{c(a=>a.map(r=>r.id===o?{...r,subjects:r.subjects.filter(n=>n.id!==t)}:r)),i("")},j=()=>{c(t=>t.map(a=>a.id===o?{...a,subjects:[{id:1,name:"",status:""}],nextSubjectId:2}:a)),i("")};return(()=>{let t=0,a=0;return g.forEach(r=>{r.subjects.forEach(n=>{n.status==="passed"?t++:n.status==="failed"&&a++})}),{overallPassed:t,overallFailed:a}})(),e.jsx("div",{className:`p-4 font-inter min-h-screen ${s?"bg-gray-900":"bg-gradient-to-br from-green-50 to-blue-100"}`,children:e.jsxs("div",{className:"group p-8 rounded-3xl shadow-lg hover:shadow-2xl transition-shadow duration-300 w-full max-w-3xl mx-auto border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold leading-tight mb-2 text-gray-900 dark:text-gray-100 flex items-center justify-center",children:[e.jsx("span",{className:"mr-2 text-4xl",children:"📚"})," Backlog Tracker"]}),e.jsx("p",{className:"text-lg md:text-xl font-normal leading-relaxed text-gray-700 dark:text-gray-300 mb-4",children:"Keep track of pending subjects (backlogs), visualize progress, and plan reattempts semester-wise."})]}),e.jsxs("div",{className:`p-6 rounded-xl shadow-inner border space-y-4 ${s?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[e.jsx("h3",{className:`text-xl font-semibold text-center ${s?"text-gray-100":"text-gray-800"}`,children:"Select Semester"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:g.map(t=>e.jsx("button",{onClick:()=>p(t.id),className:`py-2 px-4 rounded-lg font-semibold transition-all duration-200 ${o===t.id?"bg-blue-600 text-white shadow-md":`${s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`}`,children:t.name},t.id))})]}),e.jsxs("div",{className:`p-6 rounded-xl shadow-md border overflow-x-auto space-y-4 ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold text-center ${s?"text-gray-100":"text-gray-800"}`,children:[l?l.name:"Select a Semester"," Subjects"]}),l&&e.jsxs("table",{className:`min-w-full rounded-lg ${s?"bg-gray-800":"bg-white"}`,children:[e.jsx("thead",{className:`${s?"bg-gray-700":"bg-gray-100"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:`py-3 px-4 text-left text-sm font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"Subject Name"}),e.jsx("th",{className:`py-3 px-4 text-left text-sm font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"Status"}),e.jsx("th",{className:`py-3 px-4 text-left text-sm font-semibold ${s?"text-gray-200":"text-gray-700"}`})]})}),e.jsx("tbody",{children:l.subjects.map((t,a)=>e.jsxs("tr",{className:`${a%2===0?s?"bg-gray-800":"bg-white":s?"bg-gray-700":"bg-gray-50"} border-b ${s?"border-gray-600":"border-gray-200"}`,children:[e.jsxs("td",{className:"p-4",children:[e.jsx("label",{htmlFor:`subject-name-main-${t.id}`,className:"sr-only",children:"Subject Name"}),e.jsx("input",{type:"text",id:`subject-name-main-${t.id}`,name:`subject-name-${t.id}`,autoComplete:"off",value:t.name,onChange:r=>h(t.id,"name",r.target.value),placeholder:"e.g., Data Structures",className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("label",{htmlFor:`subject-status-main-${t.id}`,className:"sr-only",children:"Status"}),e.jsxs("select",{id:`subject-status-main-${t.id}`,name:`subject-status-${t.id}`,autoComplete:"off",value:t.status,onChange:r=>h(t.id,"status",r.target.value),className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"passed",children:"Passed ✅"}),e.jsx("option",{value:"failed",children:"Failed ❌"})]})]}),e.jsx("td",{className:"p-4",children:l.subjects.length>1&&e.jsx("button",{onClick:()=>f(t.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",title:"Remove Subject",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})})})]},t.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:y,className:`flex-1 font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 ${s?"bg-blue-700 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"}`,children:[e.jsx("span",{className:"mr-2",children:"+"})," Add Subject"]}),e.jsx("button",{onClick:j,className:`flex-1 font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 ${s?"bg-gray-700 hover:bg-gray-600 text-gray-100 focus:ring-gray-500":"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-400"}`,children:"Reset Semester"})]})]}),b&&e.jsx("p",{className:"text-red-500 text-xs italic text-center",children:b}),e.jsxs("div",{className:`p-6 rounded-xl shadow-md border text-center space-y-4 ${s?"bg-purple-900 border-purple-700":"bg-purple-50 border-purple-200"}`,children:[e.jsxs("h3",{className:`text-xl font-semibold ${s?"text-purple-200":"text-purple-800"}`,children:["Summary for ",l?.name||"Selected Semester"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-lg font-medium",children:[e.jsxs("div",{className:`p-3 rounded-lg shadow-sm ${s?"bg-gray-800 text-gray-100":"bg-white"}`,children:[e.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:"Total Subjects:"}),e.jsx("p",{className:"text-blue-900 text-3xl font-bold",children:x.total})]}),e.jsxs("div",{className:`p-3 rounded-lg shadow-sm ${s?"bg-gray-800 text-gray-100":"bg-white"}`,children:[e.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:"Passed Subjects:"}),e.jsx("p",{className:"text-green-600 text-3xl font-bold",children:x.passed})]}),e.jsxs("div",{className:`p-3 rounded-lg shadow-sm ${s?"bg-gray-800 text-gray-100":"bg-white"}`,children:[e.jsx("p",{className:s?"text-gray-300":"text-gray-600",children:"Backlogs:"}),e.jsx("p",{className:"text-red-600 text-3xl font-bold",children:x.backlogs})]})]})]})]})})};export{S as default};
