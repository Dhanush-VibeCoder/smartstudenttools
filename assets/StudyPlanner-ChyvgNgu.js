import{r as i,j as e}from"./index-BpuqwmbV.js";const X=({darkMode:a})=>{const[f,p]=i.useState([{id:1,name:"",priority:"medium"}]),[A,C]=i.useState(2),[j,F]=i.useState(""),[w,T]=i.useState(""),[S,E]=i.useState(""),[k,P]=i.useState("equal"),[W,q]=i.useState(!1),[v,B]=i.useState(""),[R,x]=i.useState([]),[L,o]=i.useState(""),Y=t=>{const l=new Date(t);let r=""+(l.getMonth()+1),s=""+l.getDate();const n=l.getFullYear();return r.length<2&&(r="0"+r),s.length<2&&(s="0"+s),[n,r,s].join("-")},I=(t,l,r)=>{p(s=>s.map(n=>n.id===t?{...n,[l]:r}:n)),x([]),o("")},O=()=>{p(t=>[...t,{id:A,name:"",priority:"medium"}]),C(t=>t+1)},z=t=>{p(l=>l.filter(r=>r.id!==t)),x([]),o("")},G=()=>{if(f.length===0||f.some(s=>!s.name.trim()))return o("Please add at least one subject and ensure all subject names are filled."),!1;if(!j||!w)return o("Please select both a start and end date."),!1;const t=new Date(j),l=new Date(w);if(t>l)return o("Start date cannot be after end date."),!1;const r=parseFloat(S);if(isNaN(r)||r<=0)return o("Please enter a valid daily study time (e.g., 3 hours/day)."),!1;if(v.trim()!==""){const s=v.split(",").map(n=>n.trim());for(const n of s){const h=new Date(n);if(isNaN(h.getTime()))return o(`Invalid break day date format: "${n}". UseBRUARY-MM-DD.`),!1}}return o(""),!0},K=()=>{if(!G()){x([]);return}const t=new Date(j),l=new Date(w),r=parseFloat(S),s=[],n=f.filter(u=>u.name.trim()!=="");if(n.length===0){o("Please enter valid subjects to generate a plan."),x([]);return}const h=v.split(",").map(u=>Y(u.trim())).filter(Boolean),b={low:1,medium:2,high:3};let N=0;k==="priority"&&(n.forEach(u=>{N+=b[u.priority]||0}),N===0&&(P("equal"),console.warn("Priority weights sum to zero, defaulting to equal distribution.")));let d=new Date(t);for(;d<=l;){const u=d.getDay(),H=Y(d);if(W&&(u===0||u===6)){d.setDate(d.getDate()+1);continue}if(h.includes(H)){d.setDate(d.getDate()+1);continue}const g=[];let m=r;if(k==="equal"){const D=m/n.length;n.forEach(c=>{g.push({subject:c.name,hours:D.toFixed(2),done:!1})})}else{const D=[...n].sort((c,y)=>(b[y.priority]||0)-(b[c.priority]||0));if(D.forEach(c=>{if(m<=0)return;const y=b[c.priority]||0;if(N===0){const $=m/D.length;g.push({subject:c.name,hours:$.toFixed(2),done:!1}),m-=$}else{const $=y/N,U=m*$;g.push({subject:c.name,hours:U.toFixed(2),done:!1}),m-=U}}),m>0&&g.length>0){const c=m/g.length;g.forEach(y=>{y.hours=(parseFloat(y.hours)+c).toFixed(2)})}}g.length>0&&s.push({date:H,tasks:g}),d.setDate(d.getDate()+1)}x(s)},J=(t,l)=>{x(r=>r.map((s,n)=>n===t?{...s,tasks:s.tasks.map((h,b)=>b===l?{...h,done:!h.done}:h)}:s))},Q=()=>{p([{id:1,name:"",priority:"medium"}]),C(2),F(""),T(""),E(""),P("equal"),q(!1),B(""),x([]),o("")};return e.jsx("div",{className:`p-4 font-inter min-h-screen ${a?"bg-gray-900":"bg-gradient-to-br from-indigo-50 to-purple-100"}`,children:e.jsxs("div",{className:"group p-8 rounded-3xl shadow-lg hover:shadow-2xl transition-shadow duration-300 w-full max-w-3xl mx-auto border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold leading-tight mb-2 text-gray-900 dark:text-gray-100 flex items-center justify-center",children:[e.jsx("span",{className:"mr-2 text-4xl",children:"🗓️"})," Study Planner"]}),e.jsx("p",{className:"text-lg md:text-xl font-normal leading-relaxed text-gray-700 dark:text-gray-300 mb-4",children:"Generate a smart, balanced schedule for exam prep or daily study goals."})]}),e.jsxs("div",{className:`p-6 rounded-xl shadow-inner border space-y-4 ${a?"bg-gray-900 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[e.jsx("h3",{className:`text-2xl font-bold text-center ${a?"text-gray-100":"text-gray-800"}`,children:"Plan Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[f.map((t,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3 w-full",children:[e.jsx("input",{type:"text",id:`subject-name-${t.id}`,name:`subject-name-${t.id}`,autoComplete:"off",value:t.name,onChange:r=>I(t.id,"name",r.target.value),placeholder:"Subject Name",className:`flex-1 w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto",children:[e.jsx("label",{htmlFor:`subject-priority-${t.id}`,className:"block text-sm font-semibold mb-1",children:"Priority:"}),e.jsxs("select",{id:`subject-priority-${t.id}`,name:`subject-priority-${t.id}`,autoComplete:"off",value:t.priority,onChange:r=>I(t.id,"priority",r.target.value),className:`flex-1 w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"low",children:"Low Priority"}),e.jsx("option",{value:"medium",children:"Medium Priority"}),e.jsx("option",{value:"high",children:"High Priority"})]})]}),f.length>1&&e.jsx("button",{onClick:()=>z(t.id),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200 flex-shrink-0",title:"Remove Subject","aria-label":"Remove subject",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})})]},t.id)),e.jsxs("button",{onClick:O,className:`flex items-center justify-center w-full font-bold py-2 px-4 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 mt-2 ${a?"bg-blue-700 hover:bg-blue-600 text-white":"bg-blue-800 hover:bg-blue-900 text-white"}`,children:[e.jsx("span",{className:"mr-2",children:"+"})," Add Subject"]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"start-date-main",className:`block text-sm font-semibold mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Start Date:"}),e.jsx("input",{type:"date",id:"start-date-main",name:"start-date",autoComplete:"off",value:j,onChange:t=>F(t.target.value),className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end-date-main",className:`block text-sm font-semibold mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"End Date:"}),e.jsx("input",{type:"date",id:"end-date-main",name:"end-date",autoComplete:"off",value:w,onChange:t=>T(t.target.value),className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"daily-study-time-main",className:`block text-sm font-semibold mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Daily Study Time (Hours):"}),e.jsx("input",{type:"number",id:"daily-study-time-main",name:"daily-study-time",autoComplete:"off",value:S,onChange:t=>E(t.target.value),placeholder:"e.g., 3",min:"0.5",step:"0.5",className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"study-type-main",className:`block text-sm font-semibold mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Preferred Study Type:"}),e.jsxs("select",{id:"study-type-main",name:"study-type",autoComplete:"off",value:k,onChange:t=>P(t.target.value),className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"equal",children:"Equal Distribution"}),e.jsx("option",{value:"priority",children:"Priority-Based"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"weekends-off-main",name:"weekends-off",checked:W,onChange:t=>q(t.target.checked),className:`mr-2 h-4 w-4 text-indigo-600 focus:ring-indigo-500 ${a?"border-gray-600":"border-gray-300"}`}),e.jsx("label",{htmlFor:"weekends-off-main",className:`text-sm font-semibold ${a?"text-gray-300":"text-gray-700"}`,children:"Weekends Off"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"break-days-main",className:`block text-sm font-semibold mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Break Days (YYYY-MM-DD, comma-separated):"}),e.jsx("input",{type:"text",id:"break-days-main",name:"break-days",autoComplete:"off",value:v,onChange:t=>B(t.target.value),placeholder:"e.g., 2024-07-04, 2024-12-25",className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"}`})]})]}),L&&e.jsx("p",{className:"text-red-500 text-xs italic text-center",children:L}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:K,className:`w-full font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 ${a?"bg-indigo-800 hover:bg-indigo-900 text-white focus:ring-indigo-900":"bg-indigo-700 hover:bg-indigo-800 text-white focus:ring-indigo-700"}`,children:"Generate Plan"}),e.jsx("button",{onClick:Q,className:`flex-1 font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 ${a?"bg-gray-700 hover:bg-gray-600 text-gray-100 focus:ring-gray-500":"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-400"}`,children:"Reset"})]})]}),R.length>0&&e.jsxs("div",{className:`p-6 rounded-xl shadow-md border space-y-4 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("h3",{className:`text-2xl font-bold text-center ${a?"text-gray-100":"text-gray-800"}`,children:"Your Study Plan"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map((t,l)=>e.jsxs("div",{className:`p-4 rounded-lg shadow-md border ${a?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200"}`,children:[e.jsx("h4",{className:`font-bold text-lg mb-2 ${a?"text-blue-200":"text-blue-800"}`,children:t.date}),e.jsx("ul",{className:"space-y-2",children:t.tasks.map((r,s)=>e.jsxs("li",{className:`flex items-center justify-between p-2 rounded-md ${r.done?a?"bg-green-800 line-through text-gray-400":"bg-green-100 line-through text-gray-600":a?"bg-gray-700 text-gray-100":"bg-white text-gray-800"}`,children:[e.jsxs("span",{children:[e.jsxs("span",{className:"font-semibold",children:[r.subject,":"]})," ",r.hours," hours"]}),e.jsx("button",{onClick:()=>J(l,s),className:`p-1 rounded-full ${r.done?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} text-white transition-colors duration-200`,title:r.done?"Mark as Undone":"Mark as Done","aria-label":r.done?"Mark as undone":"Mark as done",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:r.done?"M6 18L18 6M6 6l12 12":"M5 13l4 4L19 7"})})})]},s))})]},t.date))})]}),e.jsxs("div",{className:`p-5 rounded-lg border shadow-sm space-y-3 ${a?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200"}`,children:[e.jsx("h3",{className:`font-bold text-lg ${a?"text-blue-200":"text-blue-800"}`,children:"📘 What is a Study Planner?"}),e.jsx("p",{className:"text-base md:text-lg font-normal leading-relaxed text-gray-700 dark:text-gray-300",children:"A study planner helps break your syllabus into daily or weekly tasks so you can stay organized and focused. It's especially useful during exam season."}),e.jsx("h3",{className:`font-bold text-lg ${a?"text-blue-200":"text-blue-800"}`,children:"🔍 How It Works:"}),e.jsx("p",{className:"text-base md:text-lg font-normal leading-relaxed text-gray-700 dark:text-gray-300",children:"This tool divides your available days and study hours equally across subjects — or based on priority — and generates a clear, trackable plan."}),e.jsx("h3",{className:`font-bold text-lg ${a?"text-blue-200":"text-blue-800"}`,children:"✅ Why Use It?"}),e.jsxs("ul",{className:"list-disc list-inside text-base md:text-lg font-normal leading-relaxed text-gray-700 dark:text-gray-300 space-y-1",children:[e.jsx("li",{children:"Reduces procrastination"}),e.jsx("li",{children:"Prevents last-minute cramming"}),e.jsx("li",{children:"Builds consistency"}),e.jsx("li",{children:"Keeps you accountable"})]}),e.jsx("h3",{className:`font-bold text-lg ${a?"text-blue-200":"text-blue-800"}`,children:"🧠 Pro Tip:"}),e.jsx("p",{className:"text-base md:text-lg font-normal leading-relaxed text-gray-700 dark:text-gray-300",children:"Print or bookmark your plan and check tasks off daily for best results!"})]})]})})};export{X as default};
